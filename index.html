<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Welcome My Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Welcome My Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Welcome My Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Mark Lee">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Welcome My Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Welcome My Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-openEuler：物理存储及逻辑卷管理" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/07/28/openEuler%EF%BC%9A%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E5%8F%8A%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2024-07-28T14:21:39.000Z" itemprop="datePublished">2024-07-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/openEuler/">openEuler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/07/28/openEuler%EF%BC%9A%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E5%8F%8A%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86/">openEuler：物理存储及逻辑卷管理</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="磁盘存储挂载与使用"><a href="#磁盘存储挂载与使用" class="headerlink" title="磁盘存储挂载与使用"></a>磁盘存储挂载与使用</h1><h2 id="磁盘挂载"><a href="#磁盘挂载" class="headerlink" title="磁盘挂载"></a>磁盘挂载</h2><p>磁盘挂载（mounting）是指在操作系统中将一个存储设备（如硬盘、SSD、光盘、U盘等）连接到<strong>文件系统</strong>，使其可以被系统和用户访问和使用。挂载后，存储设备上的文件和目录将会出现在指定的挂载点（通常是一个空的目录）下，用户可以通过这个挂载点来访问和操作这些文件和目录。</p>
<h3 id="使用mount查看磁盘挂载信息"><a href="#使用mount查看磁盘挂载信息" class="headerlink" title="使用mount查看磁盘挂载信息"></a>使用mount查看磁盘挂载信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# mount</span><br><span class="line">proc on /proc <span class="built_in">type</span> proc (rw,nosuid,nodev,noexec,relatime)</span><br><span class="line">sysfs on /sys <span class="built_in">type</span> sysfs (rw,nosuid,nodev,noexec,relatime,seclabel)</span><br><span class="line">devtmpfs on /dev <span class="built_in">type</span> devtmpfs (rw,nosuid,seclabel,size=4096k,nr_inodes=1048576,mode=755)</span><br><span class="line">securityfs on /sys/kernel/security <span class="built_in">type</span> securityfs (rw,nosuid,nodev,noexec,relatime)</span><br><span class="line">tmpfs on /dev/shm <span class="built_in">type</span> tmpfs (rw,nosuid,nodev,seclabel)</span><br><span class="line">devpts on /dev/pts <span class="built_in">type</span> devpts (rw,nosuid,noexec,relatime,seclabel,gid=5,mode=620,ptmxmode=000)</span><br><span class="line">tmpfs on /run <span class="built_in">type</span> tmpfs (rw,nosuid,nodev,seclabel,size=299212k,nr_inodes=819200,mode=755)</span><br><span class="line">tmpfs on /sys/fs/cgroup <span class="built_in">type</span> tmpfs (ro,nosuid,nodev,noexec,seclabel,size=4096k,nr_inodes=1024,mode=755)</span><br><span class="line">cgroup on /sys/fs/cgroup/systemd <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,xattr,release_agent=/usr/lib/systemd/systemd-cgroups-agent,name=systemd)</span><br><span class="line">none on /sys/fs/bpf <span class="built_in">type</span> bpf (rw,nosuid,nodev,noexec,relatime,mode=700)</span><br><span class="line">cgroup on /sys/fs/cgroup/rdma <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,rdma)</span><br><span class="line">cgroup on /sys/fs/cgroup/net_cls,net_prio <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,net_cls,net_prio)</span><br><span class="line">cgroup on /sys/fs/cgroup/cpuset <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,cpuset)</span><br><span class="line">cgroup on /sys/fs/cgroup/freezer <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,freezer)</span><br><span class="line">cgroup on /sys/fs/cgroup/pids <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,pids)</span><br><span class="line">cgroup on /sys/fs/cgroup/hugetlb <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,hugetlb)</span><br><span class="line">cgroup on /sys/fs/cgroup/cpu,cpuacct <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,cpu,cpuacct)</span><br><span class="line">cgroup on /sys/fs/cgroup/perf_event <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,perf_event)</span><br><span class="line">cgroup on /sys/fs/cgroup/memory <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,memory)</span><br><span class="line">cgroup on /sys/fs/cgroup/blkio <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,blkio)</span><br><span class="line">cgroup on /sys/fs/cgroup/devices <span class="built_in">type</span> cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,devices)</span><br><span class="line">/dev/mapper/openeuler-root on / <span class="built_in">type</span> ext4 (rw,relatime,seclabel)</span><br><span class="line">selinuxfs on /sys/fs/selinux <span class="built_in">type</span> selinuxfs (rw,nosuid,noexec,relatime)</span><br><span class="line">systemd-1 on /proc/sys/fs/binfmt_misc <span class="built_in">type</span> autofs (rw,relatime,fd=35,pgrp=1,<span class="built_in">timeout</span>=0,minproto=5,maxproto=5,direct,pipe_ino=14884)</span><br><span class="line">hugetlbfs on /dev/hugepages <span class="built_in">type</span> hugetlbfs (rw,relatime,seclabel,pagesize=2M)</span><br><span class="line">mqueue on /dev/mqueue <span class="built_in">type</span> mqueue (rw,nosuid,nodev,noexec,relatime,seclabel)</span><br><span class="line">debugfs on /sys/kernel/debug <span class="built_in">type</span> debugfs (rw,nosuid,nodev,noexec,relatime,seclabel)</span><br><span class="line">tracefs on /sys/kernel/tracing <span class="built_in">type</span> tracefs (rw,nosuid,nodev,noexec,relatime,seclabel)</span><br><span class="line">fusectl on /sys/fs/fuse/connections <span class="built_in">type</span> fusectl (rw,nosuid,nodev,noexec,relatime)</span><br><span class="line">configfs on /sys/kernel/config <span class="built_in">type</span> configfs (rw,nosuid,nodev,noexec,relatime)</span><br><span class="line">tmpfs on /tmp <span class="built_in">type</span> tmpfs (rw,nosuid,nodev,seclabel,size=748028k,nr_inodes=1048576)</span><br><span class="line">/dev/vda1 on /boot <span class="built_in">type</span> ext4 (rw,relatime,seclabel)</span><br></pre></td></tr></table></figure>
<h4 id="信息的解释"><a href="#信息的解释" class="headerlink" title="信息的解释"></a>信息的解释</h4><ul>
<li><strong>设备名</strong>：例如 <code>/dev/sda1</code>、<code>/dev/sda2</code>、<code>/dev/sdb1</code> 等，表示挂载的设备或分区。</li>
<li><strong>挂载点</strong>：例如 <code>/</code>、<code>/home</code>、<code>/mnt/mydisk</code> 等，表示设备挂载到的目录。</li>
<li><strong>文件系统类型</strong>：例如 <code>ext4</code>、<code>iso9660</code>、<code>squashfs</code> 等，表示设备使用的文件系统类型。</li>
<li><strong>挂载选项</strong>：例如 <code>rw</code>、<code>relatime</code>、<code>ro</code>、<code>nosuid</code> 等，表示挂载时使用的选项。</li>
</ul>
<h3 id="fdisk-l查看磁盘信息"><a href="#fdisk-l查看磁盘信息" class="headerlink" title="fdisk -l查看磁盘信息"></a>fdisk -l查看磁盘信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost boot]# fdisk -l</span><br><span class="line">Disk /dev/vda：40 GiB，42949672960 字节，83886080 个扇区</span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：dos</span><br><span class="line">磁盘标识符：0x849d8593</span><br><span class="line"></span><br><span class="line">设备       启动    起点     末尾     扇区 大小 Id 类型</span><br><span class="line">/dev/vda1  *       2048  2099199  2097152   1G 83 Linux</span><br><span class="line">/dev/vda2       2099200 83886079 81786880  39G 8e Linux LVM</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/openeuler-root：36.94 GiB，39665532928 字节，77471744 个扇区</span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/openeuler-swap：2.05 GiB，2206203904 字节，4308992 个扇区</span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br></pre></td></tr></table></figure>
<h3 id="使用df-h查看磁盘挂载，容量，利用率"><a href="#使用df-h查看磁盘挂载，容量，利用率" class="headerlink" title="使用df -h查看磁盘挂载，容量，利用率"></a>使用df -h查看磁盘挂载，容量，利用率</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost boot]# <span class="built_in">df</span> -h</span><br><span class="line">文件系统                    容量  已用  可用 已用% 挂载点</span><br><span class="line">devtmpfs                    4.0M     0  4.0M    0% /dev</span><br><span class="line">tmpfs                       731M     0  731M    0% /dev/shm</span><br><span class="line">tmpfs                       293M   30M  263M   11% /run</span><br><span class="line">tmpfs                       4.0M     0  4.0M    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/openeuler-root   37G  1.8G   33G    6% /</span><br><span class="line">tmpfs                       731M     0  731M    0% /tmp</span><br><span class="line">/dev/vda1                   974M  151M  756M   17% /boot</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h2><blockquote>
<p><strong>硬盘分区</strong>是使用分割编辑器（partition editor）在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A3%81%E7%A2%9F" title="磁盘">磁盘</a>上划分几个逻辑部分，碟片一旦划分成数个分割（Partition），不同类的目录与文件可以存储进不同的分割。</p>
</blockquote>
<p>磁盘分区主要有 <strong>MBR</strong> 和 <strong>GPT</strong> 两种格式，两种不同的<strong>磁盘分区表标准</strong></p>
<h3 id="使用-lsblk-列出系统上所有磁盘列表"><a href="#使用-lsblk-列出系统上所有磁盘列表" class="headerlink" title="使用 lsblk 列出系统上所有磁盘列表"></a>使用 <code>lsblk</code> 列出系统上所有磁盘列表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost boot]# lsblk</span><br><span class="line">NAME               MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS</span><br><span class="line">sr0                 11:0    1 223.5M  0 rom  </span><br><span class="line">vda                252:0    0    40G  0 disk </span><br><span class="line">├─vda1             252:1    0     1G  0 part /boot</span><br><span class="line">└─vda2             252:2    0    39G  0 part </span><br><span class="line">  ├─openeuler-root 253:0    0  36.9G  0 lvm  /</span><br><span class="line">  └─openeuler-swap 253:1    0   2.1G  0 lvm  [SWAP]</span><br></pre></td></tr></table></figure>
<p>  从输出信息来看，主要分为两个sr0，vda装置，vda中分为两个分区vda1，vda2，vda2中还有 LVM 产生的文件系统</p>
<h4 id="信息解释"><a href="#信息解释" class="headerlink" title="信息解释"></a>信息解释</h4><ul>
<li>NAME：装置文件名，会省略 &#x2F;dev 等前导目录</li>
<li><strong>MAJ:MIN</strong>：其实核心认识的装置都是通过这两个代码来熟悉的，分别是：<code>主要:次要</code> 装置</li>
<li>RM：是否为颗拆卸装置（removable device）。如光盘、USB 磁盘等</li>
<li>SIZE：容量</li>
<li>RO：是否为只读</li>
<li>TYPE：磁盘 disk、分区槽 partition、只读存储器 rom</li>
<li>MOUTPOINT：挂载点</li>
</ul>
<h3 id="分区架构"><a href="#分区架构" class="headerlink" title="分区架构"></a>分区架构</h3><ul>
<li>主分区</li>
<li>扩展分区（它本身不能存储数据，而是一个容器，可以包含多个逻辑分区）<ul>
<li>逻辑分区1</li>
<li>逻辑分区2</li>
<li>逻辑分区3</li>
</ul>
</li>
</ul>
<h3 id="分区命名规则"><a href="#分区命名规则" class="headerlink" title="分区命名规则"></a>分区命名规则</h3><p><code>/dev/vd&#123;a-z&#125;&#123;number&#125;</code></p>
<ul>
<li><code>/dev/</code> 设备名称</li>
<li><code>vd</code> 设备类型（ <code>hd/sd</code> )</li>
<li><code>&#123;a-z&#125;</code> 设备序号</li>
<li><code>&#123;number&#125;</code> 分区编号</li>
</ul>
<h2 id="磁盘分区方案"><a href="#磁盘分区方案" class="headerlink" title="磁盘分区方案"></a>磁盘分区方案</h2><h3 id="MBR"><a href="#MBR" class="headerlink" title="MBR"></a>MBR</h3><p>使用 <code>parted /dev/vda print</code> 列出磁盘的分区表类型与分区信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost boot]# parted /dev/vda <span class="built_in">print</span></span><br><span class="line">型号：Virtio 块设备 (virtblk)</span><br><span class="line">磁盘 /dev/vda：42.9GB</span><br><span class="line">扇区大小 (逻辑/物理)：512B/512B</span><br><span class="line">分区表：msdos</span><br><span class="line">磁盘标志：</span><br><span class="line"></span><br><span class="line">编号  起始点  结束点  大小    类型     文件系统  标志</span><br><span class="line"> 1    1049kB  1075MB  1074MB  primary  ext4      启动</span><br><span class="line"> 2    1075MB  42.9GB  41.9GB  primary            lvm</span><br></pre></td></tr></table></figure>
<p> 我们看到分区表类型 <code>msdos</code> 是指MBR分区表 — 使用 <code>fdisk</code> 分区工具，执行以下操作对某个磁盘进行操作<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/vda</span><br></pre></td></tr></table></figure></p>
<h3 id="GPT"><a href="#GPT" class="headerlink" title="GPT"></a>GPT</h3><ul>
<li>GPT 分区标准摆脱了 MBR 的最大支持 2TB 的限制，支持更大的磁盘容量</li>
<li>没有主分区和逻辑分区的区别</li>
<li>每一个分区有一个全局标识符（GUID）</li>
<li>使用 <code>gdisk</code> 工具</li>
</ul>
<h3 id="parted-分区工具"><a href="#parted-分区工具" class="headerlink" title="parted 分区工具"></a>parted 分区工具</h3><p><code>parted /dev/vda</code> 进入交互模式</p>
<h2 id="fstab-介绍"><a href="#fstab-介绍" class="headerlink" title="fstab 介绍"></a>fstab 介绍</h2><p>静态存储了磁盘存储挂载信息，在系统启动时，会自动调取该文件进行磁盘挂载，这样就不需要手动进行挂载</p>
<h3 id="fstab文件格式"><a href="#fstab文件格式" class="headerlink" title="fstab文件格式"></a>fstab文件格式</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># &lt;file system&gt;   &lt;mount point&gt;   &lt;type&gt;   &lt;options&gt;         &lt;dump&gt;   &lt;pass&gt;</span></span><br><span class="line">/dev/sda1         /boot           ext4     defaults          <span class="number">1</span>        <span class="number">2</span></span><br><span class="line">/dev/mapper/root  /               ext4     defaults          <span class="number">0</span>        <span class="number">1</span></span><br><span class="line">UUID=<span class="number">12345678</span>-<span class="number">9</span>ab /home           ext4     defaults          <span class="number">0</span>        <span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;file system&gt;</code>：文件系统的设备路径或UUID</li>
<li><code>&lt;mount point&gt;</code>：文件系统要挂载到的路径</li>
<li><code>&lt;type&gt;</code>：文件系统类型</li>
<li><code>&lt;options&gt;</code>：挂载选项，例如<code>defaults</code>、<code>noauto</code>、<code>ro</code>、<code>rw</code>等</li>
<li><code>&lt;dump&gt;</code>：用于备份工具的备份级别，默认为0</li>
<li><code>&lt;pass&gt;</code>：用于<code>fsck</code>工具的文件系统检查顺序，默认为0（不检查）<br><img src="/../images/Pasted%20image%2020240706181827.png"></li>
</ul>
<hr>
<h1 id="逻辑卷管理（LVM）"><a href="#逻辑卷管理（LVM）" class="headerlink" title="逻辑卷管理（LVM）"></a>逻辑卷管理（LVM）</h1><blockquote>
<p>LVM 是 Linux 系统对磁盘分区的一种管理机制，是在磁盘分区之上建立一个逻辑层，这个逻辑层让多个硬盘或者分区看起来像一块逻辑硬盘，然后将这块逻辑硬盘分成逻辑卷之后使用，从而大大提高了分区的灵活性。</p>
</blockquote>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>PE（Physical Extend）：物理单元，能被 LVM 寻址的最小单元</li>
<li>PV（Physical Volume）：物理卷，即实际存在的分区</li>
<li>VG（Volume Group）：卷组，一个或多个物理卷组成卷组，可以将卷组想象成为一个新的逻辑磁盘</li>
<li>LV（Logical Volume）：逻辑卷，将卷组重新分配为多个逻辑卷，是用户实际使用的逻辑设备<br><img src="/../images/Pasted%20image%2020240706224408.png"></li>
</ul>
<h2 id="使用-LVM-创建管理逻辑卷"><a href="#使用-LVM-创建管理逻辑卷" class="headerlink" title="使用 LVM 创建管理逻辑卷"></a>使用 LVM 创建管理逻辑卷</h2><h3 id="物理卷操作"><a href="#物理卷操作" class="headerlink" title="物理卷操作"></a>物理卷操作</h3><ul>
<li>创建物理卷<br>命令为 <code>pvcreate [option] devname</code><br>详细用法使用 <code>pvcreate --help</code> 查看</li>
<li>查看物理卷信息<br>命令为 <code>pvdisplay [option] devname</code> ，我们可以看到信息包括如下<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--- Physical volume ---</span><br><span class="line">  PV Name               /dev/vda2</span><br><span class="line">  VG Name               openeuler</span><br><span class="line">  PV Size               &lt;39.00 GiB / not usable 3.00 MiB</span><br><span class="line">  Allocatable           <span class="built_in">yes</span> (but full)</span><br><span class="line">  PE Size               4.00 MiB</span><br><span class="line">  Total PE              9983</span><br><span class="line">  Free PE               0</span><br><span class="line">  Allocated PE          9983</span><br><span class="line">  PV UUID               yoL1lh-t5IG-VVPT-13dO-LxVD-LXvk-NnkUfE</span><br></pre></td></tr></table></figure></li>
<li>修改物理卷信息<br>命令为 <code>pvchange [option] devname</code><br>详细用法使用 <code>pvchange --help</code> 查看</li>
<li>删除物理卷<br>命令为 <code>pvremove [option] devname</code></li>
</ul>
<h3 id="卷组操作"><a href="#卷组操作" class="headerlink" title="卷组操作"></a>卷组操作</h3><ul>
<li>创建卷组 <code>vgcreate [option] vgname pvname ...</code></li>
<li>查看卷组 <code>vgdisplay [option] [vgname]</code></li>
<li>修改卷组属性 <code>vgchange [option] vgname</code></li>
<li>扩展卷组 <code>vgextend [option] vgname pvname ...</code></li>
<li>收缩卷组 <code>vgreduce [option] vgname pvname ...</code></li>
<li>删除卷组 <code>vgremove [option] vgname</code></li>
</ul>
<h3 id="逻辑卷操作"><a href="#逻辑卷操作" class="headerlink" title="逻辑卷操作"></a>逻辑卷操作</h3><ul>
<li>创建逻辑卷 <code>lvcreate [option] -n lvname vgname</code></li>
<li>查看逻辑卷 <code>lvdisplay [option] [lvname]</code></li>
<li>调整逻辑卷大小 <code>lvresize [option] lvname</code></li>
<li>扩展逻辑卷 <code>lvextend [option] lvname</code></li>
<li>收缩逻辑卷 <code>lvreduce [option] lvname</code></li>
<li>删除逻辑卷 <code>lvremove [option] lvname</code></li>
</ul>
<h2 id="参考文章：-Linux-LVM-逻辑卷管理器"><a href="#参考文章：-Linux-LVM-逻辑卷管理器" class="headerlink" title="参考文章：- Linux LVM 逻辑卷管理器"></a>参考文章：<br>- <a target="_blank" rel="noopener" href="https://www.cnblogs.com/cnjavahome/p/11178998.html" title="发布于 2019-07-13 21:52">Linux LVM 逻辑卷管理器</a></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/07/28/openEuler%EF%BC%9A%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E5%8F%8A%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86/" data-id="clz5nt20v00025ot676o3hrcz" data-title="openEuler：物理存储及逻辑卷管理" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openEuler/" rel="tag">openEuler</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E5%AD%98%E5%82%A8/" rel="tag">系统存储</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-使用vscode连接openEuler服务器" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/07/24/%E4%BD%BF%E7%94%A8vscode%E8%BF%9E%E6%8E%A5openEuler%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="article-date">
  <time class="dt-published" datetime="2024-07-24T14:20:39.000Z" itemprop="datePublished">2024-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/openEuler/">openEuler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/07/24/%E4%BD%BF%E7%94%A8vscode%E8%BF%9E%E6%8E%A5openEuler%E6%9C%8D%E5%8A%A1%E5%99%A8/">使用vscode连接openEuler服务器</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="本地主机准备"><a href="#本地主机准备" class="headerlink" title="本地主机准备"></a>本地主机准备</h1><ul>
<li><strong>Remote - SSH</strong>：<br><img src="/images/Pasted%20image%2020240706012413.png"></li>
</ul>
<h1 id="服务器准备"><a href="#服务器准备" class="headerlink" title="服务器准备"></a>服务器准备</h1><h2 id="官方文档提供的提前准备"><a href="#官方文档提供的提前准备" class="headerlink" title="官方文档提供的提前准备"></a>官方文档提供的<strong>提前准备</strong></h2><table>
<thead>
<tr>
<th>Distribution</th>
<th>Base Requirements</th>
<th>Remote - SSH Requirements</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>General</td>
<td>kernel &gt;&#x3D; 4.18, glibc &gt;&#x3D;2.28, libstdc++ &gt;&#x3D; 3.4.25, tar</td>
<td>OpenSSH server, <code>bash</code>, and <code>curl</code> or <code>wget</code></td>
<td>Run <code>ldd --version</code> to check the glibc version. Run <code>strings /usr/lib64/libstdc++.so.6 | grep GLIBCXX</code> to see if libstdc++ 3.4.25 is available.</td>
</tr>
<tr>
<td>General for Arm32</td>
<td><code>libatomic1</code></td>
<td>No additional requirements.</td>
<td></td>
</tr>
<tr>
<td>Ubuntu 20.04+, Debian 10+, Raspberry Pi OS Buster&#x2F;10+ and downstream distributions</td>
<td><code>libc6 libstdc++6 ca-certificates tar</code></td>
<td><code>openssh-server bash</code> and <code>curl</code> or <code>wget</code></td>
<td>Requires kernel &gt;&#x3D; 4.18, glibc &gt;&#x3D; 2.28, libstdc++ &gt;&#x3D; 3.4.25.</td>
</tr>
<tr>
<td>RHEL &#x2F; CentOS 8+</td>
<td><code>glibc libgcc libstdc++ ca-certificates tar</code></td>
<td><code>openssh-server bash</code> and <code>curl</code> or <code>wget</code></td>
<td>Requires kernel &gt;&#x3D; 4.18, glibc &gt;&#x3D; 2.28, libstdc++ &gt;&#x3D; 3.4.25.</td>
</tr>
<tr>
<td>Alpine Linux 3.16+</td>
<td><code>musl libgcc libstdc++</code>. musl &gt;&#x3D; 1.2.3, glibc not required.</td>
<td>Not yet supported.</td>
<td>Supported in Dev Containers and WSL. Extensions installed in the container may not work due to <code>glibc</code> dependencies in extension native code.</td>
</tr>
<tr>
<td>openSUSE Leap &#x2F; SUSE Linux Enterprise 15+</td>
<td><code>glibc libgcc_s1 libstdc++6 ca-certificates gzip tar</code></td>
<td><code>curl</code> or <code>wget</code></td>
<td>Requires kernel &gt;&#x3D; 4.18, glibc, libstdc++6</td>
</tr>
</tbody></table>
<h2 id="针对openEuler的准备"><a href="#针对openEuler的准备" class="headerlink" title="针对openEuler的准备"></a>针对openEuler的准备</h2><h3 id="缺少tar-解压工具"><a href="#缺少tar-解压工具" class="headerlink" title="缺少tar 解压工具"></a>缺少tar 解压工具</h3><p>检查是否缺少tar解压工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# tar</span><br><span class="line">-bash: tar：未找到命令</span><br></pre></td></tr></table></figure>
<p>使用以下命令安装tar</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnf install tar</span><br></pre></td></tr></table></figure>
<h3 id="端口转发未开启"><a href="#端口转发未开启" class="headerlink" title="端口转发未开启"></a>端口转发未开启</h3><ol>
<li>我们查看sshd 服务配置文件<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure></li>
<li>找到以下两个配置<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AllowTcpForwarding no</span><br><span class="line">AllowAgentForwarding no</span><br></pre></td></tr></table></figure></li>
<li>将 ‘ no ‘改为’ yes ‘<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AllowTcpForwarding yes</span><br><span class="line">AllowAgentForwarding yes</span><br></pre></td></tr></table></figure></li>
<li>重启sshd 服务<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd.service</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/07/24/%E4%BD%BF%E7%94%A8vscode%E8%BF%9E%E6%8E%A5openEuler%E6%9C%8D%E5%8A%A1%E5%99%A8/" data-id="clz5nt20x00035ot68jyz8q8h" data-title="使用vscode连接openEuler服务器" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openEuler/" rel="tag">openEuler</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/openEuler/">openEuler</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openEuler/" rel="tag">openEuler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E5%AD%98%E5%82%A8/" rel="tag">系统存储</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/openEuler/" style="font-size: 20px;">openEuler</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E5%AD%98%E5%82%A8/" style="font-size: 10px;">系统存储</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/07/28/openEuler%EF%BC%9A%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E5%8F%8A%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86/">openEuler：物理存储及逻辑卷管理</a>
          </li>
        
          <li>
            <a href="/2024/07/24/%E4%BD%BF%E7%94%A8vscode%E8%BF%9E%E6%8E%A5openEuler%E6%9C%8D%E5%8A%A1%E5%99%A8/">使用vscode连接openEuler服务器</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Mark Lee<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>